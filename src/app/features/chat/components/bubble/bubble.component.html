<li class="max-w-4xl py-2 px-4 sm:px-6 lg:px-8 mx-auto flex gap-x-2 sm:gap-x-4">
  @if (author === "humman") {
  <span
    class="size-4 sm:size-7 lg:size-10 flex flex-col justify-end items-center rounded-full bg-gradient-to-bl from-blue-600 to-violet-600 overflow-hidden">
    <ng-icon name="ionPerson" class="flex-shrink-0 text-white inline-block size-4 sm:size-5 lg:size-10 translate-y-0.5"
      size="100%" />
  </span>
  } @else if (author === "assistant") {
  <span
    class="size-4 sm:size-7 lg:size-10 p-1 flex flex-col justify-center items-center rounded-full bg-gradient-to-bl from-violet-600 to-slate-800 overflow-hidden">
    <ng-icon name="ionSparkles" class="flex-shrink-0 text-white inline-block size-4 sm:size-5 lg:size-10" size="100%" />
  </span>
  }

  <div class="grow max-w-[90%] md:max-w-2xl w-full space-y-3">
    <div class="space-y-3 text-sm text-gray-800 dark:text-white">
      <div [innerHTML]="
          message.text
            | markdown : { katex: true, clipboard: true, mermaid: true, mermaidOptions: { theme: mermaidTheme}, }
            | async
        "></div>
    </div>

    @if (showQuestion) {
    <div>
      @for (item of q| keyvalue; track item) {
      <button type="button"
        class="mb-2.5 me-1.5 py-2 px-3 inline-flex justify-center items-center gap-x-2 rounded-lg border border-blue-600 bg-white text-blue-600 align-middle hover:bg-blue-50 text-sm dark:bg-neutral-900 dark:text-blue-500 dark:border-blue-500 dark:hover:text-blue-400 dark:hover:border-blue-400"
        (click)="onQuestionClick(item.key)">
        {{ item.value }}
      </button>
      }
    </div>
    }
  </div>
</li>
